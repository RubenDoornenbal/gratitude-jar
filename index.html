<!DOCTYPE html>
<html>
<head>
    <title>Based Gratitude Jar</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js" crossorigin></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js" crossorigin></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>/* Previous styles remain the same */</style>
</head>
<body class="min-h-screen p-8">
    <div id="root"></div>
    <script type="text/babel">
        const autoNotes = [
            "Today I touched grass. It wasn't as bad as Twitter said it would be ðŸŒ±",
            "Grateful that my Linux install only broke twice today",
            "Dear jar: Today I invented a new programming language. It's like Rust but with even more compiler errors",
            "Today's achievement: Explaining to HR why 'sudo make me a sandwich' isn't harassment",
            "Spent today arguing why Web3 will definitely work this time",
            "Today I learned that AI won't take my job because I don't do any work anyway",
            "Dear future me: If you're reading this, I probably forgot to push to production",
            "Today's gratitude: My code compiled on the first try. Just kidding, that never happens",
            "Was too busy explaining why Vim is superior to actually write anything today",
            "Plot twist: The real technical debt was the friends we made along the way",
            "Today I optimized my gratitude microservices architecture using blockchain",
            "Currently building a neural network to generate these messages. Oh wait...",
            "Too busy defending Elon on Twitter to write a proper entry",
            "Today's achievement: Survived another JavaScript framework release",
            "Dear jar: Today I explained why tabs are better than spaces for 6 hours straight",
            "Was too busy writing a 5000-word essay on why cryptocurrency is the future",
            "Today I identified as root and nobody can tell me otherwise",
            "Spent today explaining why AGI is actually just around the corner this time",
            "Today's mood: Telling junior devs their code is O(nÂ²) and watching them cry",
            "Plot twist: Maybe the real 10x engineer was the burnout we developed along the way"
        ];

        const App = () => {
            const [notes, setNotes] = React.useState([]);
            const [newNote, setNewNote] = React.useState('');
            const [isRevealed, setIsRevealed] = React.useState(false);
            const [showRecap, setShowRecap] = React.useState(false);
            const [timeMachine, setTimeMachine] = React.useState(0);

            React.useEffect(() => {
                const savedNotes = storage.get('gratitudeNotes') || [];
                checkAndAddNote(savedNotes);
            }, [timeMachine]);

            const checkAndAddNote = (savedNotes) => {
                const mockDate = new Date();
                mockDate.setDate(mockDate.getDate() + parseInt(timeMachine));
                const today = mockDate.toLocaleDateString();
                const hasNoteToday = savedNotes.some(note => note.date === today);
                
                if (!hasNoteToday) {
                    const randomNote = autoNotes[Math.floor(Math.random() * autoNotes.length)];
                    const autoNote = {
                        text: `âœ¨ ${randomNote}`,
                        date: today,
                        id: Date.now(),
                        isAuto: true
                    };
                    const updatedNotes = [...savedNotes, autoNote];
                    setNotes(updatedNotes);
                    storage.set('gratitudeNotes', updatedNotes);
                } else {
                    setNotes(savedNotes);
                }
            };

            // Rest of the component remains the same, but add testing controls:
            return (
                <div className="max-w-md mx-auto relative">
                    {/* Test Controls */}
                    <div className="mb-4 p-4 bg-white/10 rounded-lg">
                        <label className="text-white">Time Travel (days): </label>
                        <input 
                            type="number" 
                            value={timeMachine}
                            onChange={(e) => setTimeMachine(e.target.value)}
                            className="bg-white/20 text-white p-2 rounded"
                        />
                        <button 
                            onClick={() => localStorage.clear() || window.location.reload()} 
                            className="ml-4 px-4 py-2 bg-red-500/50 text-white rounded"
                        >
                            Reset All
                        </button>
                    </div>
                    
                    {/* Previous jar content remains the same */}
                    <div className="jar rounded-3xl p-6 text-white">
                        {/* ... rest of the previous code ... */}
                    </div>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>